{% if request.user.department == 'trops' %}

{% load static %}
{% load widget_tweaks %}

<!DOCTYPE html>
<html lang="en">

<head>
    {% include 'includes/head.html' %}
</head>

<body>

    <!-- ======= Header ======= -->
    <header id="header" class="header fixed-top d-flex align-items-center" style="background-color: #0468BF;">
        {% include 'includes/header.html' %}
    </header><!-- End Header -->

        {% include 'includes/side_nav.html' %}

    <main id="main" class="main ps-5 pe-5">
        <section class="section dashboard">
            <div class="container-fluid">
                <div class="row gap-4">

                    <!-- Main Form Section -->
                    <div class="col-md-12">

                        <div class="pagetitle mb-4">
                            <h1>Customer Registration</h1>
                            <nav>
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="index.html">Branch</a></li>
                                    <li class="breadcrumb-item active">Customer</li>
                                    <li class="breadcrumb-item active">New</li>
                                </ol>
                            </nav>
                        </div>

                        <!-- Display Form Errors or Success Messages -->
                        {% if form.errors %}
                            <div class="alert alert-danger">
                                <strong>There were errors with your submission. Please correct them and try again.</strong>
                            </div>
                        {% endif %}

                        {% for message in messages %}
                            <div class="alert alert-success p-2">{{ message }}</div>
                        {% endfor %}

                            <form action="" method="post" enctype="multipart/form-data" class="row ms-4 mt-2 me-4">
                                {% csrf_token %}

                                <div class="col-md-12">
                                    <h5 class="p-2 alert alert-secondary text-center">Personal Information</h5>
                                </div>

                                <!-- Form Fields -->
                                <div class="col-md-3 mb-3">
                                    <label for="{{ form.title.id_for_label }}" class="form-label">{{ form.title.label }}</label>
                                    {{ form.title|add_class:"form-select" }}
                                    {% if form.title.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.title.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-5 mb-3">
                                    <label for="{{ form.surname_or_company_name.id_for_label }}" class="form-label">{{ form.surname_or_company_name.label }}  <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.surname_or_company_name|add_class:"form-control" }}
                                    {% if form.surname_or_company_name.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.surname_or_company_name.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.other_names.id_for_label }}" class="form-label">{{ form.other_names.label }}</label>
                                    {{ form.other_names|add_class:"form-control" }}
                                    <div style="font-size: 12px;" class="m-2 text-muted"><span class="fw-bold">NB:</span> Optional for institutions</div>
                                    {% if form.other_names.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.other_names.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.date_of_birth_or_incorporation_of_business.id_for_label }}" class="form-label">{{ form.date_of_birth_or_incorporation_of_business.label }} <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.date_of_birth_or_incorporation_of_business|add_class:"form-control" }}
                                    {% if form.date_of_birth_or_incorporation_of_business.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.date_of_birth_or_incorporation_of_business.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.nationality.id_for_label }}" class="form-label">{{ form.nationality.label }} <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.nationality|add_class:"form-control" }}
                                    {% if form.nationality.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.nationality.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.occupation.id_for_label }}" class="form-label">{{ form.occupation.label }}</label>
                                    {{ form.occupation|add_class:"form-control" }}
                                    <div style="font-size: 12px;" class="m-2 text-muted"><span class="fw-bold">NB:</span> Optional for institutions</div>
                                    {% if form.occupation.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.occupation.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.address.id_for_label }}" class="form-label">{{ form.address.label }} <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.address|add_class:"form-control" }}
                                    {% if form.address.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.address.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.residential_address.id_for_label }}" class="form-label">{{ form.residential_address.label }} <sup class="text-danger fw-bold">*</sup> </label>
                                    {{ form.residential_address|add_class:"form-control" }}
                                    {% if form.residential_address.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.residential_address.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.residential_status.id_for_label }}" class="form-label">{{ form.residential_status.label }}  <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.residential_status|add_class:"form-select" }}
                                    {% if form.residential_status.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.residential_status.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.phone_number.id_for_label }}" class="form-label">{{ form.phone_number.label }}  <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.phone_number|add_class:"form-control" }}
                                    {% if form.phone_number.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.phone_number.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.fax_number.id_for_label }}" class="form-label">{{ form.fax_number.label }}</label>
                                    {{ form.fax_number|add_class:"form-control" }}
                                    {% if form.fax_number.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.fax_number.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.email.id_for_label }}" class="form-label">{{ form.email.label }}  <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.email|add_class:"form-control" }}
                                    {% if form.email.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.email.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-12">
                                    <h5 class="p-2 alert alert-secondary text-center">Identity Information</h5>
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.id_type.id_for_label }}" class="form-label">{{ form.id_type.label }}  <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.id_type|add_class:"form-select" }}
                                    {% if form.id_type.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.id_type.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.id_number.id_for_label }}" class="form-label">{{ form.id_number.label }}  <sup class="text-danger fw-bold">*</sup> </label>
                                    {{ form.id_number|add_class:"form-control" }}
                                    {% if form.id_number.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.id_number.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.place_of_issue.id_for_label }}" class="form-label">{{ form.place_of_issue.label }} </label>
                                    {{ form.place_of_issue|add_class:"form-control" }}
                                    {% if form.place_of_issue.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.place_of_issue.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.expiry_date.id_for_label }}" class="form-label">{{ form.expiry_date.label }}  <sup class="text-danger fw-bold">*</sup></label>
                                    {{ form.expiry_date|add_class:"form-control" }}
                                    {% if form.expiry_date.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.expiry_date.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-12">
                                    <h5 class="p-2 alert alert-secondary text-center ">Bank Information</h5>
                                </div>



                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.account_number.id_for_label }}" class="form-label">{{ form.account_number.label }} <sup class="text-danger fw-bold">*</sup> </label>
                                    {{ form.account_number|add_class:"form-control" }}
                                    {% if form.account_number.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.account_number.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="col-md-4 mb-3">
									<label for="{{ form.account_branch.id_for_label }}" class="form-label">{{ form.account_branch.label }} <sup class="text-danger fw-bold">*</sup></label>
									{{ form.account_branch|add_class:"form-select" }}
									{% if form.account_branch.errors %}
									<div class="invalid-feedback">
										{% for error in form.account_branch.errors %}
										<p>{{ error }}</p>
										{% endfor %}
									</div>
									{% endif %}
								</div>

                                <div class="col-md-4 mb-3">
                                    <label for="{{ form.csd_number.id_for_label }}" class="form-label">{{ form.csd_number.label }}</label>
                                    {{ form.csd_number|add_class:"form-control" }}
                                    {% if form.csd_number.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.csd_number.errors %}
                                        <p>{{ error }}</p>
                                        {% endfor %}
                                    </div>
                                    {% endif %}
                                </div>

                                <!-- Submit Button -->
                                <div class="col-md-12 text-end">
                                    <button type="submit" class="btn btn-success">Submit</button>
                                </div>
                            </form>

                    </div>

                </div>
            </div>
        </section>
    </main><!-- End #main -->

    {% include 'includes/footer.html' %}

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center">
        <i class="bi bi-arrow-up-short"></i>
    </a>

    {% include 'includes/script.html' %}

</body>

</html>


{% endif %}